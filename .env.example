# =============================================================================
# TSBot - Vietnamese Military Admission Chatbot Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=TSBot
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# API Settings
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080"]

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=tsbot
POSTGRES_PASSWORD=tsbot_secret_password
POSTGRES_DB=tsbot_db

# Connection pool settings
POSTGRES_POOL_SIZE=10
POSTGRES_MAX_OVERFLOW=20

# -----------------------------------------------------------------------------
# Qdrant Vector Database
# -----------------------------------------------------------------------------
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# Collection names
QDRANT_LEGAL_COLLECTION=legal_documents
QDRANT_SQL_EXAMPLES_COLLECTION=sql_examples
QDRANT_INTENTS_COLLECTION=intents

# -----------------------------------------------------------------------------
# Ollama LLM Settings
# -----------------------------------------------------------------------------
OLLAMA_BASE_URL=http://localhost:11434

# Main LLM for generation
OLLAMA_MAIN_MODEL=qwen2.5:7b-instruct
OLLAMA_MAIN_TEMPERATURE=0.1
OLLAMA_MAIN_TOP_P=0.9

# Grader LLM for evaluation (smaller, faster)
OLLAMA_GRADER_MODEL=qwen2.5:1.5b
OLLAMA_GRADER_TEMPERATURE=0.0

# -----------------------------------------------------------------------------
# Embedding Settings
# -----------------------------------------------------------------------------
# Primary: Vietnamese Embedding (requires local download)
EMBEDDING_MODEL=AITeamVN/Vietnamese_Embedding
# Fallback: nomic-embed-text via Ollama
EMBEDDING_FALLBACK_MODEL=nomic-embed-text
EMBEDDING_DIMENSION=768

# -----------------------------------------------------------------------------
# RAG Settings
# -----------------------------------------------------------------------------
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50
RAG_TOP_K=5
RAG_RELEVANCE_THRESHOLD=0.7

# Reranker
RERANKER_MODEL=namdp-ptit/ViRanker
RERANKER_TOP_K=3

# -----------------------------------------------------------------------------
# SQL Agent Settings
# -----------------------------------------------------------------------------
SQL_MAX_RETRIES=3
SQL_FEW_SHOT_EXAMPLES=5

# -----------------------------------------------------------------------------
# Semantic Router Settings
# -----------------------------------------------------------------------------
ROUTER_SIMILARITY_THRESHOLD=0.85
ROUTER_FAQ_COLLECTION=intents

# -----------------------------------------------------------------------------
# Authentication (Admin)
# -----------------------------------------------------------------------------
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Default admin credentials (change immediately after first login)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123

# -----------------------------------------------------------------------------
# Paths
# -----------------------------------------------------------------------------
DATA_DIR=./data
DOCUMENTS_DIR=./data/documents
SQL_EXAMPLES_DIR=./data/sql_examples
INTENTS_DIR=./data/intents
